@model BusinessLayer.DTOModels.PropertyDTO

@{
    ViewData["Title"] = "Property Single";
    Layout = "_Layout";
}

@section Styles {
    <link rel="stylesheet" href="~/assets/css/property-details.css">
}

@section Content {
    <main class="main">
        <!-- Page Title -->
        <div class="page-title" data-aos="fade">
            <div class="heading">
                <div class="container">
                    <div class="row d-flex justify-content-center text-center">
                        <div class="col-lg-8">
                            <h1>@ViewData["Title"]</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div><!-- End Page Title -->
        <!-- Real Estate Section -->
        <section id="real-estate-2" class="real-estate-2 section">
            <div class="container" data-aos="fade-up">
                <!-- Property Images Slider -->
                <div class="portfolio-details-slider swiper init-swiper">
                    <script type="application/json" class="swiper-config">
                        {
                            "loop": true,
                            "speed": 600,
                            "autoplay": {
                                "delay": 5000
                            },
                            "slidesPerView": "auto",
                            "navigation": {
                                "nextEl": ".swiper-button-next",
                                "prevEl": ".swiper-button-prev"
                            },
                            "pagination": {
                                "el": ".swiper-pagination",
                                "type": "bullets",
                                "clickable": true
                            }
                        }
                    </script>
                    <div class="swiper-wrapper align-items-center">
                        <div class="swiper-slide">
                            <img src="@Url.Content("~/properties/propertypicture/" + (string.IsNullOrEmpty(Model.PropertyPictureUrl) ? "default.jpeg" : Model.PropertyPictureUrl))"
                                 class="img-fluid"
                                 alt="@Model.Name"
                                 onerror="this.onerror=null; this.src='@Url.Content("~/properties/propertypicture/default.jpeg")';" />
                        </div>
                    </div>
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-pagination"></div>
                </div><!-- End Property Images Slider -->
                <!-- Property Details and Tabs -->
                <div class="row justify-content-between gy-4 mt-4">
                    <div class="col-lg-8" data-aos="fade-up">
                        <div class="portfolio-description">
                            <h2>Property Details</h2>
                     
                        </div>

                        <!-- Tabs Navigation -->
                        <ul class="nav nav-pills mb-3">
                            <li><a class="nav-link" data-bs-toggle="pill" href="#location-tab">Location</a></li>
                    
                        </ul><!-- End Tabs -->
                        <!-- Tab Content -->
                        <div class="tab-content">
                            <!-- Location Tab -->
                            <div class="tab-pane fade show active" id="location-tab">
                                <iframe style="border:0; width: 100%; height: 580px;"
                                        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d11017062.647113614!2d25.136099399999998!3d26.820553!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x145838f62cfbf791%3A0x240d6e8b84536cd1!2zRWd5cHQ!5e0!3m2!1sen!2seg!4v1676961268712!5m2!1sen!2seg"
                                        frameborder="0"
                                        loading="lazy"
                                        referrerpolicy="no-referrer-when-downgrade">
                                </iframe>
                            </div><!-- End Location Tab -->
            
                        </div><!-- End Tab Content -->
                    </div>

                    <!-- Property Info -->
                    <div class="col-lg-3" data-aos="fade-up" data-aos-delay="100">
                        <div class="portfolio-info">
                            <h3>Property Info</h3>
                            <ul>
                                <li><strong>Property:</strong> @Model.Name</li>
                                <li><strong>Price:</strong> <span>@Model.Price.ToString("C", System.Globalization.CultureInfo.CreateSpecificCulture("en-EG"))</span></li>
                                <li><strong>Rooms:</strong> @Model.Rooms</li>
                                <li><strong>Furnished:</strong> @(Model.IsFUrnished ? "YES" : "NO")</li>
                                <li><strong>Location:</strong> @Model.Location</li>
                                <li><strong>Type:</strong> @Model.Type</li>
                                <li><strong>Listed For:</strong> @Model.Status</li>
                                <li><strong>Area:</strong> <span>@Model.Area m<sup>2</sup></span></li>
                                <li><strong>Project:</strong> <span>@Model.PropertyProject</span></li>
                                <li><strong>Currently:</strong> <span>@(Model.IsOccupied ? "Occupied" : "Free")</span></li>
                            </ul>
                            <!-- Open Contract Button -->
                            <a class="ml-auto custom-green text-white rounded px-3 py-2" href="@Url.Action("Create", "Contract", new { propertyId = Model.Id })" aria-label="Open contract for property">
                                Open Contract
                            </a>
                        </div>
                    </div>
                </div><!-- End Property Details and Tabs -->
            </div>
        </section><!-- End Real Estate Section -->
    </main>
}

@section Scripts {
    <script src="~/assets/js/property-details.js"></script>
}
